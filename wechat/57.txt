【周末杂谈】DGX Spark 的游戏性能：到底能跑多少帧

三万块的「AI 超级计算机」，买来打游戏。

━━━━━━━━━━━━━━━━━━━━

◆ 事情的起因

我有一台 NVIDIA DGX Spark。

官方定位是「桌面 AI 超级计算机」，买来是为了跑本地大模型的。

但是……周末想摸鱼打游戏怎么办？

这篇文章讲讲这台机器的硬件到底是什么水平，能不能打游戏，以及我踩过的坑。

━━━━━━━━━━━━━━━━━━━━

◆ GB10 芯片是什么？

DGX Spark 的核心是 NVIDIA GB10 SoC，一颗把 CPU 和 GPU 封装在一起的芯片。

────────────────────

【CPU 部分】

20 核 ARM 架构，大小核设计：
• 10× Cortex-X925（大核，高性能）
• 10× Cortex-A725（小核，高能效）

注意：这两种核心「只支持 AArch64」，不支持 32 位 ARM（AArch32）。这个后面会提到。

────────────────────

【GPU 部分】

Blackwell 架构 GPU：
• 6144 个 CUDA 核心
• 支持光线追踪、DLSS 4、AI 帧生成
• 和桌面端 RTX 5070 同款架构，核心数也一样

────────────────────

【内存】

• 128GB LPDDR5X 统一内存
• 带宽 301 GB/s
• CPU 和 GPU 共享同一块内存池（不像独显那样分开）

────────────────────

【其他规格】

• 3nm 工艺
• 整机 TDP 140W
• NVLink-C2C 连接片上 CPU 和 GPU（片间互联，比 PCIe 快）

💡 一句话总结：GB10 = 手机级 ARM CPU + 桌面级 Blackwell GPU + 巨大统一内存，封装成一个低功耗 SoC。

━━━━━━━━━━━━━━━━━━━━

◆ GB10 vs RTX 5070：核心一样，性能一样吗？

GB10 的 GPU 和 RTX 5070 都是 6144 个 CUDA 核心，但「不能」简单画等号。

────────────────────

【对比表】

┌──────────────────┬─────────────────────┬─────────────────────┐
│ 维度              │ GB10（DGX Spark）    │ RTX 5070（独立显卡） │
├──────────────────┼─────────────────────┼─────────────────────┤
│ CUDA 核心数       │ 6144                │ 6144                │
│ 显存/内存容量     │ 128GB（统一内存）    │ 12GB GDDR7（显存）  │
│ 内存带宽          │ 301 GB/s            │ 672 GB/s            │
│ TDP              │ 140W（整个 SoC）     │ 250W（仅 GPU）      │
│ CPU              │ ARM（需要翻译 x86）  │ 搭配 x86 CPU        │
│ 适用场景          │ AI 推理 / 大模型     │ 游戏 / 创作         │
└──────────────────┴─────────────────────┴─────────────────────┘

────────────────────

【关键差异解读】

1⃣ 内存带宽差一倍
   RTX 5070 的 672 GB/s 是 GB10 的 2.2 倍。GPU 游戏性能和显存带宽强相关，带宽低 = 纹理加载慢、帧率低。

2⃣ 功耗差距大
   RTX 5070 单卡就 250W，GB10 整个 SoC（CPU + GPU + 内存控制器）才 140W。功耗低 = GPU 频率低 = 性能打折。

3⃣ 内存容量反杀
   RTX 5070 只有 12GB 显存，大模型跑不了几个。GB10 的 128GB 统一内存是它的核心卖点——大模型权重可以全放内存里。

4⃣ CPU 翻译开销
   RTX 5070 搭配 x86 CPU，游戏原生运行。GB10 是 ARM CPU，跑 x86 游戏需要实时翻译，CPU 性能打 6~7 折。

────────────────────

💡 结论：同样 6144 核心，GB10 游戏性能大约是 RTX 5070 的 50~60%。
   但它的定位本来就不是游戏卡——128GB 内存跑大模型才是正经用途。

━━━━━━━━━━━━━━━━━━━━

◆ 为什么不能直接跑 Steam？

💡「指令集」= CPU 的语言。x86 说英语，ARM 说中文，互相听不懂。

Steam 客户端和 Windows 游戏都是 x86/x86_64 程序。
GB10 是 ARM64 架构，直接跑不了。

需要「翻译官」：把 x86 指令实时翻译成 ARM 指令。

────────────────────

【三种方案对比】

┌──────────┬─────────────────┬──────────────────────────────┐
│ 方案      │ 特点             │ 适用场景                      │
├──────────┼─────────────────┼──────────────────────────────┤
│ QEMU     │ 最准确，但最慢    │ 调试、兼容性测试              │
│ Box64    │ 快，但不支持 32 位│ 树莓派、旧 ARM 芯片           │
│ FEX-Emu  │ 快，支持 32+64 位 │ 新 ARM 芯片、Wine/Proton 游戏 │
└──────────┴─────────────────┴──────────────────────────────┘

⚠️ Steam 客户端需要「同时」运行 32 位和 64 位代码。
Box64 只能跑 64 位，而 GB10 的核心不支持 AArch32。
所以 DGX Spark 上，FEX 是唯一选择。

━━━━━━━━━━━━━━━━━━━━

◆ FEX-Emu：怎么翻译的？

FEX-Emu 是 ARM64 上的 x86/x86_64 用户态二进制翻译器。

💡 不是传统模拟器，是「JIT 编译器」—— 把 x86 指令编译成 ARM 指令，有代码缓存，翻译过一次的代码不用重复翻译。

关键特性：
• 支持 AVX/AVX2 模拟（依赖 ARM SVE2 硬件加速）
• OpenGL/Vulkan 调用通过 Thunking 直接转发给原生驱动，不走翻译
• 完全用户态模拟，不依赖 CPU 的 32 位支持

性能损耗：CPU 密集型场景翻译开销 2.5~2.8 倍（原本 100 帧 → FEX 下 35~40 帧）。
GPU 密集型游戏损耗更小（图形调用直接转发）。

━━━━━━━━━━━━━━━━━━━━

◆ 实测数据

────────────────────

【游戏实测表】

┌────────────────┬────────────────────────────────────────────────┐
│ 游戏            │ 表现                                            │
├────────────────┼────────────────────────────────────────────────┤
│ 赛博朋克 2077   │ 原生渲染 1080p 中等 ~50 FPS                     │
│                │ 开 DLSS 4 MFG 后显示 175+ FPS                   │
│ 三国无双起源    │ 流畅，偶尔卡顿（CPU 瓶颈）                      │
│ 古剑奇谭3       │ 流畅                                            │
└────────────────┴────────────────────────────────────────────────┘

⚠️ 必须设置 Proton 兼容层：
Steam → 游戏 → 右键 → 属性 → 兼容性 → 强制使用 Proton 10.0-2 (beta)

────────────────────

【175 帧的水分】

那个 175 帧是「AI 插帧」，不是原生渲染。

MFG = Multi Frame Generation（多帧生成）

原理：GPU 实际只渲染 40~50 帧，AI 用 Tensor Core「脑补」中间帧，输出 175 帧。
就像视频插帧——30 帧的视频 AI 补成 60 帧，帧是「造」出来的。

┌─────────────────────────────┬──────────────┬──────────────┐
│ 设置                         │ 实际渲染帧率  │ 显示帧率      │
├─────────────────────────────┼──────────────┼──────────────┤
│ 1080p 中等，无 DLSS          │ ~50 FPS      │ 50 FPS       │
│ 1080p 高 + 光追 + DLSS 4 MFG │ ~40-50 FPS   │ 175+ FPS     │
└─────────────────────────────┴──────────────┴──────────────┘

────────────────────

【CPU 瓶颈问题】

《三国无双起源》有 DLSS 帧生成选项，但开了也没用。

原因：卡顿是 CPU 造成的，不是 GPU。

• 无双系列：满屏敌人 + 物理碰撞 → CPU 密集型
• FEX 翻译开销 2.5~3 倍 → CPU 更吃紧
• GPU 很闲，在等 CPU 喂数据
• DLSS/MFG 只能省 GPU 算力，救不了 CPU

💡 结论：GPU 密集型游戏（如光追）能从 DLSS 获益；CPU 密集型游戏开了没意义。

────────────────────

【怎么开启 DLSS 4 MFG？】

1. 确保用 Deb + FEX 方案

2. 设置 Proton 版本：
   Steam → 游戏 → 右键 → 属性 → 兼容性 → 强制使用 Proton 10.0-2 (beta)

3. 启动参数（可选）：
   ```
   PROTON_ENABLE_NVAPI=1 %command%
   ```

4. 游戏内设置：
   设置 → 图形 → DLSS → 选择「性能」或「超级性能」
   设置 → 图形 → 帧生成 → 开启
   设置 → 图形 → 光线追踪 → 开启

5. 跑基准测试确认生效

━━━━━━━━━━━━━━━━━━━━

◆ 踩坑记录

────────────────────

【坑一：两个 Steam】

DGX Spark 上装 Steam 有两种方式：

• Snap 版：`sudo apt install steam --beta`，开箱即用，内置 FEX
  游戏目录：~/snap/steam/common/.local/share/Steam/steamapps/

• Deb 版 + FEX：跑安装脚本，更灵活
  游戏目录：~/.local/share/Steam/steamapps/

我「先」装了 Snap 版下了 90GB 游戏，「后」装了 Deb 版。
两个 Steam 两个目录，互相不认，游戏「消失了」。

解决方案——把游戏从 Snap 目录移到 Deb 目录：

```bash
mv ~/snap/steam/common/.local/share/Steam/steamapps/common/* \
   ~/.local/share/Steam/steamapps/common/

cp ~/snap/steam/common/.local/share/Steam/steamapps/*.acf \
   ~/.local/share/Steam/steamapps/

sudo snap remove steam
rm -rf ~/snap/steam
```

────────────────────

【两种方案怎么选？】

┌────────────┬─────────────────────┬─────────────────────┐
│ 维度        │ Snap 版              │ Deb + FEX           │
├────────────┼─────────────────────┼─────────────────────┤
│ 安装难度    │ 一条命令             │ 需要跑脚本          │
│ 更新        │ 自动                 │ 手动                │
│ 灵活性      │ 低（封闭容器）       │ 高（可以自己调）    │
│ DLSS 4 MFG │ 不确定               │ 确认可用            │
└────────────┴─────────────────────┴─────────────────────┘

推荐：想打游戏不折腾 → Snap 版；想调参数追求性能 → Deb + FEX。
「千万别两个都装」。

────────────────────

【坑二：Xbox 手柄没反应】

插上 Xbox 手柄，Steam 不认——Linux 权限问题。

诊断：
```bash
lsusb | grep -i xbox     # 确认识别
ls /dev/input/js0         # 确认设备节点
```

解决方案：
```bash
sudo usermod -aG input $USER
# 需要重新登录才生效

# 临时测试（不用重启）：
newgrp input && steam
```

Steam 里也要开：设置 → 控制器 → 启用 Xbox 控制器支持 ✓

━━━━━━━━━━━━━━━━━━━━

◆ 总结

• GB10 = 20 核 ARM CPU + 6144 CUDA 核心 Blackwell GPU + 128GB 统一内存
• 和 RTX 5070 同核心数，但带宽只有一半，功耗只有一半，游戏性能约 50~60%
• ARM 跑 x86 游戏需要 FEX 翻译，CPU 性能再打 6~7 折
• 原生渲染约 40~50 帧，开 DLSS 4 MFG 可以「显示」175 帧（AI 插帧）
• CPU 密集型游戏（如无双）DLSS 救不了，GPU 密集型游戏（如光追）才有效
• Snap 或 Deb + FEX 选一个装，别两个都装

三万买来搞 AI，结果打游戏也挺香的——只要你别太在意那个帧数是不是「真」的。

━━━━━━━━━━━━━━━━━━━━

◆ 参考资料

• FEX-Emu 官方：https://fex-emu.com/
• FEX 自动安装脚本：https://github.com/esullivan-nvidia/fex_autoinstall
• Box64 vs FEX 对比：https://box86.org/2022/03/box86-box64-vs-qemu-vs-fex-vs-rosetta2/
• Steam Snap ARM64 公告：https://forums.developer.nvidia.com/t/beta-of-steam-snap-for-arm64/357240
• DGX Spark 游戏测试：https://www.phoronix.com/news/Steam-Snap-ARM64-FEX

━━━━━━━━━━━━━━━━━━━━

// 靳岩岩的 AI 学习笔记 × Claude 的严谨
// 2026-01-25
