<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 900 320">
  <defs>
    <linearGradient id="bgGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#0a1628"/>
      <stop offset="100%" style="stop-color:#1a0a2a"/>
    </linearGradient>
    <marker id="arrow" markerWidth="10" markerHeight="10" refX="9" refY="5" orient="auto">
      <path d="M0,0 L10,5 L0,10 Z" fill="#888"/>
    </marker>
  </defs>

  <!-- 背景 -->
  <rect width="900" height="320" fill="url(#bgGrad)"/>

  <!-- 标题 -->
  <text x="450" y="30" fill="#ffffff" font-size="18" font-family="Arial" font-weight="bold" text-anchor="middle">Q、K、V 的历史演化</text>

  <!-- ========== 左：不拆 ========== -->
  <g transform="translate(50, 60)">
    <text x="100" y="0" fill="#ef4444" font-size="14" font-family="Arial" font-weight="bold" text-anchor="middle">不拆</text>

    <!-- 输入 -->
    <rect x="60" y="20" width="80" height="30" rx="4" fill="#3b82f6" fill-opacity="0.3" stroke="#3b82f6" stroke-width="2"/>
    <text x="100" y="40" fill="#3b82f6" font-size="11" font-family="Arial" text-anchor="middle">输入 X</text>

    <!-- 箭头 -->
    <line x1="100" y1="50" x2="100" y2="80" stroke="#888" stroke-width="2" marker-end="url(#arrow)"/>

    <!-- 直接用 X -->
    <rect x="50" y="85" width="100" height="50" rx="4" fill="#888" fill-opacity="0.2" stroke="#888" stroke-width="1.5"/>
    <text x="100" y="105" fill="#888" font-size="10" font-family="Arial" text-anchor="middle">X × X^T</text>
    <text x="100" y="120" fill="#666" font-size="9" font-family="Arial" text-anchor="middle">(自己和自己)</text>

    <!-- 输出 -->
    <line x1="100" y1="135" x2="100" y2="165" stroke="#888" stroke-width="2" marker-end="url(#arrow)"/>
    <rect x="60" y="170" width="80" height="30" rx="4" fill="#8b5cf6" fill-opacity="0.3" stroke="#8b5cf6" stroke-width="2"/>
    <text x="100" y="190" fill="#8b5cf6" font-size="11" font-family="Arial" text-anchor="middle">输出</text>

    <!-- 结论 -->
    <text x="100" y="225" fill="#ef4444" font-size="11" font-family="Arial" text-anchor="middle">❌ 没用</text>
    <text x="100" y="242" fill="#666" font-size="9" font-family="Arial" text-anchor="middle">自己和自己最像</text>
  </g>

  <!-- 箭头 -->
  <path d="M230,160 L270,160" stroke="#f59e0b" stroke-width="2" marker-end="url(#arrow)"/>

  <!-- ========== 中：拆成 2 份 ========== -->
  <g transform="translate(300, 60)">
    <text x="100" y="0" fill="#f59e0b" font-size="14" font-family="Arial" font-weight="bold" text-anchor="middle">拆成 2 份（2014）</text>

    <!-- 输入 -->
    <rect x="60" y="20" width="80" height="30" rx="4" fill="#3b82f6" fill-opacity="0.3" stroke="#3b82f6" stroke-width="2"/>
    <text x="100" y="40" fill="#3b82f6" font-size="11" font-family="Arial" text-anchor="middle">输入 X</text>

    <!-- 分叉 -->
    <line x1="100" y1="50" x2="100" y2="65" stroke="#888" stroke-width="2"/>
    <line x1="100" y1="65" x2="60" y2="65" stroke="#888" stroke-width="1.5"/>
    <line x1="100" y1="65" x2="140" y2="65" stroke="#888" stroke-width="1.5"/>
    <line x1="60" y1="65" x2="60" y2="85" stroke="#888" stroke-width="1.5"/>
    <line x1="140" y1="65" x2="140" y2="85" stroke="#888" stroke-width="1.5"/>

    <!-- Q=K 和 V -->
    <rect x="30" y="85" width="60" height="28" rx="4" fill="#22c55e" fill-opacity="0.3" stroke="#22c55e" stroke-width="1.5"/>
    <text x="60" y="103" fill="#22c55e" font-size="10" font-family="Arial" text-anchor="middle">Q = K</text>

    <rect x="110" y="85" width="60" height="28" rx="4" fill="#f59e0b" fill-opacity="0.3" stroke="#f59e0b" stroke-width="1.5"/>
    <text x="140" y="103" fill="#f59e0b" font-size="10" font-family="Arial" text-anchor="middle">V</text>

    <!-- Attention -->
    <line x1="60" y1="113" x2="60" y2="125" stroke="#888" stroke-width="1"/>
    <line x1="140" y1="113" x2="140" y2="125" stroke="#888" stroke-width="1"/>
    <line x1="60" y1="125" x2="100" y2="140" stroke="#888" stroke-width="1"/>
    <line x1="140" y1="125" x2="100" y2="140" stroke="#888" stroke-width="1"/>

    <rect x="50" y="140" width="100" height="30" rx="4" fill="#888" fill-opacity="0.2" stroke="#888" stroke-width="1.5"/>
    <text x="100" y="160" fill="#888" font-size="10" font-family="Arial" text-anchor="middle">Attention</text>

    <!-- 输出 -->
    <line x1="100" y1="170" x2="100" y2="195" stroke="#888" stroke-width="2" marker-end="url(#arrow)"/>
    <rect x="60" y="200" width="80" height="30" rx="4" fill="#8b5cf6" fill-opacity="0.3" stroke="#8b5cf6" stroke-width="2"/>
    <text x="100" y="220" fill="#8b5cf6" font-size="11" font-family="Arial" text-anchor="middle">输出</text>

    <!-- 结论 -->
    <text x="100" y="255" fill="#f59e0b" font-size="11" font-family="Arial" text-anchor="middle">✓ 能用了</text>
    <text x="100" y="272" fill="#666" font-size="9" font-family="Arial" text-anchor="middle">Bahdanau Attention</text>
  </g>

  <!-- 箭头 -->
  <path d="M480,160 L520,160" stroke="#22c55e" stroke-width="2" marker-end="url(#arrow)"/>

  <!-- ========== 右：拆成 3 份 ========== -->
  <g transform="translate(550, 60)">
    <text x="150" y="0" fill="#22c55e" font-size="14" font-family="Arial" font-weight="bold" text-anchor="middle">拆成 3 份（2017）</text>

    <!-- 输入 -->
    <rect x="110" y="20" width="80" height="30" rx="4" fill="#3b82f6" fill-opacity="0.3" stroke="#3b82f6" stroke-width="2"/>
    <text x="150" y="40" fill="#3b82f6" font-size="11" font-family="Arial" text-anchor="middle">输入 X</text>

    <!-- 分叉成 3 -->
    <line x1="150" y1="50" x2="150" y2="62" stroke="#888" stroke-width="2"/>
    <line x1="150" y1="62" x2="60" y2="62" stroke="#888" stroke-width="1.5"/>
    <line x1="150" y1="62" x2="150" y2="62" stroke="#888" stroke-width="1.5"/>
    <line x1="150" y1="62" x2="240" y2="62" stroke="#888" stroke-width="1.5"/>
    <line x1="60" y1="62" x2="60" y2="85" stroke="#888" stroke-width="1.5"/>
    <line x1="150" y1="62" x2="150" y2="85" stroke="#888" stroke-width="1.5"/>
    <line x1="240" y1="62" x2="240" y2="85" stroke="#888" stroke-width="1.5"/>

    <!-- Q、K、V 独立 -->
    <rect x="30" y="85" width="60" height="28" rx="4" fill="#06b6d4" fill-opacity="0.3" stroke="#06b6d4" stroke-width="1.5"/>
    <text x="60" y="103" fill="#06b6d4" font-size="10" font-family="Arial" text-anchor="middle">Q</text>

    <rect x="120" y="85" width="60" height="28" rx="4" fill="#22c55e" fill-opacity="0.3" stroke="#22c55e" stroke-width="1.5"/>
    <text x="150" y="103" fill="#22c55e" font-size="10" font-family="Arial" text-anchor="middle">K</text>

    <rect x="210" y="85" width="60" height="28" rx="4" fill="#f59e0b" fill-opacity="0.3" stroke="#f59e0b" stroke-width="1.5"/>
    <text x="240" y="103" fill="#f59e0b" font-size="10" font-family="Arial" text-anchor="middle">V</text>

    <!-- Attention -->
    <line x1="60" y1="113" x2="60" y2="125" stroke="#888" stroke-width="1"/>
    <line x1="150" y1="113" x2="150" y2="125" stroke="#888" stroke-width="1"/>
    <line x1="240" y1="113" x2="240" y2="125" stroke="#888" stroke-width="1"/>
    <line x1="60" y1="125" x2="150" y2="140" stroke="#888" stroke-width="1"/>
    <line x1="150" y1="125" x2="150" y2="140" stroke="#888" stroke-width="1"/>
    <line x1="240" y1="125" x2="150" y2="140" stroke="#888" stroke-width="1"/>

    <rect x="100" y="140" width="100" height="30" rx="4" fill="#888" fill-opacity="0.2" stroke="#888" stroke-width="1.5"/>
    <text x="150" y="160" fill="#888" font-size="10" font-family="Arial" text-anchor="middle">Attention</text>

    <!-- 输出 -->
    <line x1="150" y1="170" x2="150" y2="195" stroke="#888" stroke-width="2" marker-end="url(#arrow)"/>
    <rect x="110" y="200" width="80" height="30" rx="4" fill="#8b5cf6" fill-opacity="0.3" stroke="#8b5cf6" stroke-width="2"/>
    <text x="150" y="220" fill="#8b5cf6" font-size="11" font-family="Arial" text-anchor="middle">输出</text>

    <!-- 结论 -->
    <text x="150" y="255" fill="#22c55e" font-size="11" font-family="Arial" text-anchor="middle">✓✓ 效果更好</text>
    <text x="150" y="272" fill="#666" font-size="9" font-family="Arial" text-anchor="middle">Transformer</text>
  </g>

  <!-- 底部说明 -->
  <text x="450" y="305" fill="#888" font-size="10" font-family="Arial" text-anchor="middle">Q、K、V 各自独立 → 模型可以学到"什么情况下该看谁"，表达能力更强</text>
</svg>
